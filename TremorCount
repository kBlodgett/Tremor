
/**
 * TremorCount: counts the number of tremors in a set amount of time (so far only a day)
 * 
 * @author Kirjsten Blodgett
 * @version 1.0
 */
import java.util.*;
import java.text.DecimalFormat;
public class TremorCount
{
    // instance variables - replace the example below with your own
    private ArrayList<Tremor> tremors = new ArrayList<Tremor>();
    private ArrayList<ArrayList> tremPerDay = new ArrayList<ArrayList>();
    private int f;
        
    /**
     * Constructor for objects of class TremorCount
     */
    public TremorCount(ArrayList trems)
    {
        tremors = trems;
    }
    
    /**
     * Constructor for objects of class TremorCount
     */
    public TremorCount()
    {
    }
    
    /**
     * method to split date into ints
     */
    private void dateSplit()
    {
        for(int i = 0; tremors.size()>i; i++)
        {
            Tremor trem = (Tremor)tremors.get(i);
            
            tremors.set(i, trem);
        }
    }

    /**
     * An example of a method - replace this comment with your own
     * 
     */
    public void tremPerDay()
    {
        ArrayList<Tremor> temp = new ArrayList<Tremor>();
        dateSplit();
        int count = 0;
        while(count++ <= 31)
        {
            for(int i =0; tremors.size()> i; i++)
            {
                Tremor trem = (Tremor)tremors.get(i);
                trem.splitDate();
                if(trem.day()==count)
                {
                    temp.add(trem);
                }
            }
            temp = new ArrayList<Tremor>();
            tremPerDay.add(temp);
        }
        printTremsPerDay();
    }
    
    /**
     * prints out how many tremors per day
     */
    private void printTremsPerDay()
    {
        System.out.println("");
        System.out.println("Tremors Per Day: Averages");
        System.out.printf("%-15s %-15s %-10s %-20s %-6s %n","# of Tremors", "Date", "HR", "Vector Magnitude", "Length");
        double total= 0.00, average=0.00;
        int tremTotalCount=0;
        for(int i = 0; tremPerDay.size()>i; i++)
        {
            ArrayList<Tremor> temp = tremPerDay.get(i);
            
            double tempHR = 0.00, tempVec = 0.00, tempLength =0.00;
            for(int x =0; temp.size()>x; x++)
            {
                Tremor tremTemp = (Tremor)temp.get(x);
                tempHR += tremTemp.maxHR();
                tempVec += tremTemp.maxVec();
                tempLength += tremTemp.length();
            }
            
            if(tempHR !=0){tempHR = tempHR/temp.size();} 
            if(tempVec!=0){tempVec = tempVec/temp.size();} 
            if(tempLength!=0){tempLength = tempLength/temp.size();}
            Tremor tempTrem = null;
            if(temp.size()>0)
            {tempTrem = temp.get(0);}
            if(tempTrem != null)
            {   String date = tempTrem.date();
                total += temp.size();
                DecimalFormat  df = new DecimalFormat("#.00");

                System.out.printf("%-15s %-15s %-10s %-20s %-6s %n",temp.size(), date, df.format(tempHR), df.format(tempVec), df.format(tempLength));
                tremTotalCount++;
            }   
            
            
            tempHR = 0; tempVec= 0; tempLength = 0;
        }
        if(total!=0){average = (total/tremTotalCount);}
        System.out.println("Average: "+average);
    }
}
